(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cf200e2"],{"8dbf":function(t,i,e){"use strict";e("da63")},d74e:function(t,i,e){"use strict";e.r(i);for(var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("a-card",{staticStyle:{width:"100%"},attrs:{title:"病历信息"}},[e("a-table",{attrs:{columns:t.columns,"data-source":t.data},scopedSlots:t._u([t._l(["createTime","doctor"],(function(i){return{key:i,fn:function(a){return[e("div",{key:i},[t._v(" "+t._s(a)+" ")])]}}})),{key:"rid",fn:function(i,a){return[e("div",{key:"rid"},[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.showModal(i)}}},[t._v(" 编辑 ")]),e("a-modal",{attrs:{title:"详细信息",width:"60%",cloasble:"clo",visible:t.list[i],footer:null,closable:t.clo}},[[e("a-card",{staticStyle:{"text-align":"left"},attrs:{title:"病历信息"}},[e("p",{staticStyle:{fontSize:"16px",color:"rgba(0, 0, 0, 0.85)",marginBottom:"16px",fontWeight:"500"}},[t._v(" 基本情况 ")]),e("a-card",{attrs:{title:"患者姓名"}},[e("h",{staticStyle:{fontSize:"16px"}},[t._v(" "+t._s(a.doctor)+" ")])],1),e("a-card",{style:{marginTop:"8px"},attrs:{title:"就诊状态"}},[e("h",{staticStyle:{fontSize:"16px"}},[t._v(" 已就诊 ")])],1),e("a-card",{style:{marginTop:"8px"},attrs:{title:"诊断结果"}},[e("a-input",{staticStyle:{margin:"0px 0"},model:{value:t.diagnosis,callback:function(i){t.diagnosis=i},expression:"diagnosis"}})],1)],1),e("a-card",{staticStyle:{"{ marginTop":"'8px' }"},attrs:{title:"患者处方信息"}},[e("div",{staticStyle:{"background-color":"#ececec",padding:"20px"}},[e("a-row",{attrs:{gutter:16}},[e("a-col",{attrs:{span:8}},[e("a-card",{attrs:{title:"处方一",bordered:!1}},[e("p",{staticStyle:{fontSize:"16px"}},[t._v("药品单:")]),e("a-input",{staticStyle:{margin:"0px 0"},model:{value:t.medical1,callback:function(i){t.medical1=i},expression:"medical1"}}),e("p",{staticStyle:{fontSize:"16px"}},[t._v("用法:")]),e("a-input",{staticStyle:{margin:"0px 0"},model:{value:t.describe1,callback:function(i){t.describe1=i},expression:"describe1"}})],1)],1),e("a-col",{attrs:{span:8}},[e("a-card",{attrs:{title:"处方二",bordered:!1}},[e("p",{staticStyle:{fontSize:"16px"}},[t._v("药品单:")]),e("a-input",{staticStyle:{margin:"0px 0"},model:{value:t.medical2,callback:function(i){t.medical2=i},expression:"medical2"}}),e("p",{staticStyle:{fontSize:"16px"}},[t._v("用法:")]),e("a-input",{staticStyle:{margin:"0px 0"},model:{value:t.describe2,callback:function(i){t.describe2=i},expression:"describe2"}})],1)],1),e("a-col",{attrs:{span:8}},[e("a-card",{attrs:{title:"处方三",bordered:!1}},[e("p",{staticStyle:{fontSize:"16px"}},[t._v("药品单:")]),e("a-input",{staticStyle:{margin:"0px 0"},model:{value:t.medical3,callback:function(i){t.medical3=i},expression:"medical3"}}),e("p",{staticStyle:{fontSize:"16px"}},[t._v("用法:")]),e("a-input",{staticStyle:{margin:"0px 0"},model:{value:t.describe3,callback:function(i){t.describe3=i},expression:"describe3"}})],1)],1)],1)],1)])],e("br"),e("br"),e("div",{staticStyle:{"text-align":"right"}},[e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.Cancel(i)}}},[t._v(" 取消 ")]),e("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleCancel(i)}}},[t._v(" 保存 ")])],1)],2)],1)]}}],null,!0)})],1)},s=[],c=e("5530"),n=(e("d81d"),e("a4d3"),e("e01a"),e("b166")),r=e("93d6"),d=e("5880"),o=[{title:"登记时间",dataIndex:"createTime",width:"40%",align:"center",scopedSlots:{customRender:"createTime"}},{title:"患者姓名",dataIndex:"doctor",width:"30%",align:"center",scopedSlots:{customRender:"doctor"}},{title:"详情",dataIndex:"rid",align:"center",scopedSlots:{customRender:"rid"}}],l=[],p={},u=0;u<1e5;u++)p[u]=!1;var h={data:function(){return this.cacheData=l.map((function(t){return Object(c["a"])({},t)})),{data:l,columns:o,editingKey:"",clo:!1,diagnosis:"",medical1:"",describe1:"",medical2:"",describe2:"",medical3:"",describe3:"",ModalText:"Content of the modal",list:p}},computed:Object(c["a"])({},Object(d["mapGetters"])("account",["user","id"])),mounted:function(){var t=this;Object(r["o"])(this.user).then((function(i){t.data=i.data.result,console.log(t.data)}))},methods:{showModal:function(t){this.list[t]=!0,console.log(this.list[t]),console.log(t);for(var i=0;i<this.data.length;i++)if(this.data[i].rid==t)break;this.diagnosis=this.data[i].diagnosis,this.medical1=this.data[i].prescriptions[0].medicine,this.describe1=this.data[i].prescriptions[0].description,this.medical2=this.data[i].prescriptions[1].medicine,this.describe2=this.data[i].prescriptions[1].description,this.medical3=this.data[i].prescriptions[2].medicine,this.describe3=this.data[i].prescriptions[2].description},Cancel:function(t){this.list[t]=!1},handleCancel:function(t){console.log("Clicked cancel button");for(var i=0;i<this.data.length;i++)if(this.data[i].rid==t)break;this.data[i].diagnosis=this.diagnosis,this.data[i].prescriptions[0].medicine=this.medical1,this.data[i].prescriptions[0].description=this.describe1,this.data[i].prescriptions[1].medicine=this.medical2,this.data[i].prescriptions[1].description=this.describe2,this.data[i].prescriptions[2].medicine=this.medical3,this.data[i].prescriptions[2].description=this.describe3;var e=(new Date).getTime(),a=Object(n["a"])(new Date(e),"yyyy-MM-dd");Object(r["e"])(a,this.data[i].diagnosis,this.data[i].prescriptions,this.data[i].rid).then((function(t){console.log(t)})),this.list[t]=!1}}},m=h,b=(e("8dbf"),e("2877")),f=Object(b["a"])(m,a,s,!1,null,"efa694d0",null);i["default"]=f.exports},da63:function(t,i,e){}}]);