(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a81b51d"],{"3c35":function(t,e,n){"use strict";n("788a")},"788a":function(t,e,n){},d74e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",{staticStyle:{width:"100%"},attrs:{title:"已创建处方信息"}},[n("a-table",{attrs:{columns:t.columns,"data-source":t.data},scopedSlots:t._u([t._l(["medicine","description"],(function(e){return{key:e,fn:function(a){return[n("div",{key:e},[t._v(" "+t._s(a)+" ")])]}}})),{key:"operation",fn:function(e,a){return[n("div",{key:"operation"},[n("a-button",{attrs:{type:"primary"},on:{click:function(n){return t.showModal_edit(e,a.key)}}},[t._v(" 编辑 ")]),n("a-modal",{attrs:{title:"处方信息",okText:"提交修改",width:"60%",visible:t.list.get(e),"confirm-loading":t.confirmLoading},on:{ok:function(n){return t.handleOk_save(e,a.key)},cancel:function(n){return t.handleCancel_cancel(e,a.key)}}},[n("a-card",{attrs:{title:"处方单"}},[n("p",{staticStyle:{fontSize:"16px",color:"rgba(0, 0, 0, 0.85)",marginBottom:"16px",fontWeight:"500"}},[t._v(" 处方ID: "+t._s(a.pres_id)+" ")]),n("a-card",{attrs:{title:"患者ID"}},[n("h",{staticStyle:{fontSize:"16px"}},[t._v(" "+t._s(a.user_id)+" ")])],1),n("a-card",{attrs:{title:"患者姓名"}},[n("h",{staticStyle:{fontSize:"16px"}},[t._v(" "+t._s(a.name)+" ")])],1),n("a-card",{style:{marginTop:"16px"},attrs:{title:"药品单"}},[a.editable?n("a-input",{staticStyle:{margin:"0px 0"},attrs:{value:a.medicine},on:{change:function(e){return t.handleChange(e.target.value,a.key,"medicine")}}}):t._e()],1),n("a-card",{style:{marginTop:"16px"},attrs:{title:"病情"}},[a.editable?n("a-input",{staticStyle:{margin:"0px 0"},attrs:{value:a.description},on:{change:function(e){return t.handleChange(e.target.value,a.key,"description")}}}):t._e()],1),n("a-card",{style:{marginTop:"16px"},attrs:{title:"备注"}},[a.editable?n("a-input",{staticStyle:{margin:"0px 0"},attrs:{value:a.notes},on:{change:function(e){return t.handleChange(e.target.value,a.key,"notes")}}}):t._e()],1)],1)],1)],1)]}},{key:"expandedRowRender",fn:function(e){return n("p",{staticStyle:{margin:"0"}},[t._v(" 备注： "+t._s(e.notes)+" ")])}}],null,!0)})],1)},i=[],r=n("2909"),c=n("5530"),d=(n("d3b7"),n("25f0"),n("d81d"),n("4de4"),[{title:"处方编号",dataIndex:"pres_id",width:"15%",align:"center",scopedSlots:{customRender:"pres_id"}},{title:"患者编号",dataIndex:"user_id",width:"15%",align:"center",scopedSlots:{customRender:"user_id"}},{title:"患者姓名",dataIndex:"name",width:"15%",align:"center",scopedSlots:{customRender:"name"}},{title:"药品单",dataIndex:"medicine",width:"30%",align:"center",scopedSlots:{customRender:"medicine"}},{title:"病情",dataIndex:"description",width:"50%",align:"center",scopedSlots:{customRender:"description"}},{title:"编辑",dataIndex:"operation",align:"center",scopedSlots:{customRender:"operation"}}]),s=[],o=new Object;o.add=function(t,e){this[t]=e},o.get=function(t){return this[t]};for(var l=0;l<100;l++)s.push({key:l.toString(),pres_id:1e5+l,user_id:1e5+l,operation:1e5+l,name:"张三",description:"头晕脑涨",medicine:"六味地黄丸,蒙脱石散",notes:"情况有反复，注意提醒过段时间复诊"}),o.add(1e5+l,!1);var u={data:function(){return this.cacheData=s.map((function(t){return Object(c["a"])({},t)})),{data:s,columns:d,editingKey:"",ModalText:"Content of the modal",list:o}},methods:{handleChange:function(t,e,n){var a=Object(r["a"])(this.data),i=a.filter((function(t){return e===t.key}))[0];i&&(i[n]=t,this.data=a)},handleChange_notes:function(t,e){var n=Object(r["a"])(this.data),a=n.filter((function(t){return e===t.key}))[0];a&&(a.notes=t,this.data=n)},edit:function(t){var e=Object(r["a"])(this.data),n=e.filter((function(e){return t===e.key}))[0];this.editingKey=t,n&&(n.editable=!0,this.data=e)},save:function(t){var e=Object(r["a"])(this.data),n=Object(r["a"])(this.cacheData),a=e.filter((function(e){return t===e.key}))[0],i=n.filter((function(e){return t===e.key}))[0];a&&i&&(delete a.editable,this.data=e,Object.assign(i,a),this.cacheData=n),this.editingKey=""},cancel:function(t){var e=Object(r["a"])(this.data),n=e.filter((function(e){return t===e.key}))[0];this.editingKey="",n&&(Object.assign(n,this.cacheData.filter((function(e){return t===e.key}))[0]),delete n.editable,this.data=e)},showModal_edit:function(t,e){this.list.add(t,!0);var n=Object(r["a"])(this.data),a=n.filter((function(t){return e===t.key}))[0];this.editingKey=e,a&&(a.editable=!0,this.data=n)},handleOk_save:function(t,e){this.list.add(t,!1);var n=Object(r["a"])(this.data),a=Object(r["a"])(this.cacheData),i=n.filter((function(t){return e===t.key}))[0],c=a.filter((function(t){return e===t.key}))[0];i&&c&&(delete i.editable,this.data=n,Object.assign(c,i),this.cacheData=a),this.editingKey=""},handleCancel_cancel:function(t,e){console.log("Clicked cancel button"),this.list.add(t,!1);var n=Object(r["a"])(this.data),a=n.filter((function(t){return e===t.key}))[0];this.editingKey="",a&&(Object.assign(a,this.cacheData.filter((function(t){return e===t.key}))[0]),delete a.editable,this.data=n)}}},h=u,f=(n("3c35"),n("2877")),p=Object(f["a"])(h,a,i,!1,null,"978de15e",null);e["default"]=p.exports}}]);